# Android Things - Cloud Weather Station using ThingSpeak
This work is a fork of this [Google sample weather station](https://github.com/androidthings/weatherstation).
This project uses the Android Things SDK and the MQTT Protocol to publish data on ThingSpeak cloud.
The data (temperature and pressure) are generated by a development board (in this case a Raspberry Pi 3).
The chosen MQTT Protocol library is [Eclipse Paho](https://github.com/eclipse/paho.mqtt.android).
The communication with the MQTT broker is done using SSL, as specified by the ThingSpeak documentation [here](https://it.mathworks.com/help/thingspeak/mqtt-client-configuration.html)  

# Run the application
Before running the application, you need to configure the build.gradle file with your ThingSpeak channel settings. Modify the lines:
```bash
buildConfigField "String", "THINGSPEAK_CHANNEL_ID", '"YOUR_CHANNEL_ID"'
buildConfigField "String", "THINGSPEAK_WRITE_API_KEY", '"YOUR_WRITE_API_KEY"'
```

## Pre-requisites
- Raspberry Pi 3
- Android Studio 2.2+
- [ThingSpeak account and channel](https://thingspeak.com/)
- [Rainbow Hat for Android Things](https://shop.pimoroni.com/products/rainbow-hat-for-android-things) or the following individual components:
    - 1 [bmp280 temperature sensor](https://www.adafruit.com/product/2651)
    - 1 [segment display with I2C backpack](https://www.adafruit.com/product/1270)
    - 1 push button
    - 1 resistor
    - jumper wires
    - 1 breadboard
    - (optional) 1 [APA102 compatible RGB Led strip](https://www.adafruit.com/product/2241)
    - (optional) 1 [Piezo Buzzer](https://www.adafruit.com/products/160)

## Schematics
If you have the Raspberry Pi [Rainbow Hat for Android Things](https://shop.pimoroni.com/products/rainbow-hat-for-android-things), just plug it onto your Raspberry Pi 3. Otherwise here are the [schematics](https://github.com/androidthings/weatherstation).
